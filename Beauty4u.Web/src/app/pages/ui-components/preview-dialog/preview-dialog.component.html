<mat-dialog-content class="dialog-content" style="width: 100%; max-height: calc(80vh - 100px); overflow: auto;">
  <!-- Spinner Overlay -->
  <div class="loading-overlay" *ngIf="isLoading">
    <mat-progress-spinner mode="indeterminate" diameter="50" strokeWidth="5" color="primary"></mat-progress-spinner>
    <div class="loading-label">Processing...</div>
  </div>

  <div class="table-wrapper" [class.blur]="isLoading" style="overflow-x: auto;">
    <table mat-table [dataSource]="data.data" class="mat-elevation-z2 preview-table" class="w-100">
      <!-- Dynamic Columns -->
      <ng-container *ngFor="let column of columns" [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef class="header-cell sticky-header">
          {{ column }}
        </th>
        <td mat-cell *matCellDef="let row" class="data-cell">
          {{ row[column] }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns;"></tr>
    </table>
  </div>

  <!-- Message below table -->
  <div class="info-message" *ngIf="data.previewMessage && !isLoading">
    <mat-icon class="info-icon" color="accent">info</mat-icon>
    <span>{{ data.previewMessage }}</span>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end" class="dialog-actions">
  <button mat-stroked-button color="warn" (click)="close()" [disabled]="isLoading">
    <mat-icon>close</mat-icon> Cancel
  </button>

  <button mat-flat-button color="primary" *ngIf="data.showProceed" (click)="proceed()" [disabled]="isLoading || disableProceed">
    <mat-icon>check_circle</mat-icon>
    <span>Proceed</span>
  </button>
</mat-dialog-actions>
