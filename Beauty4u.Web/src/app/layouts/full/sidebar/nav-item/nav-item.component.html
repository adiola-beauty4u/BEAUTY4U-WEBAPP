<!-- ========================= -->
<!-- Nav Caption & Divider -->
<!-- ========================= -->
@if(item.navCap) {
@if(item.divider) {
<span class="sidebar-divider"></span>
}
<div mat-subheader class="nav-caption">
  @if(item.route) {
  <span class="text-xs font-bold uppercase tracking-wider text-gray-500 px-3 py-2 block">
    <a mat-list-item (click)="onItemSelected(item)" [ngClass]="{
            activeMenu: item.route ? router.isActive(item.route, true) : false,
            expanded: expanded,
            disabled: item.disabled
          }"
      class="menu-list-item group flex items-center gap-3 p-3 rounded-lg transition-all duration-200 hover:bg-primary/10">

      <!-- Icon -->
      <span class="iconify routeIcon text-lg text-gray-500 group-hover:text-primary" matListItemIcon
        [attr.data-icon]="item.iconName"></span>

      <!-- Caption -->
      <span class="hide-menu text-sm font-semibold tracking-wide group-hover:text-primary">
        {{ item.navCap }}
      </span>
    </a>
  </span>
  }
  @else {
  <span class="text-xs font-bold uppercase tracking-wider text-gray-500 px-3 py-2 block">
    {{ item.navCap }}
  </span>
  }
</div>
}

<!-- ========================= -->
<!-- Internal Links -->
<!-- ========================= -->
@if(!item.navCap && !item.external) {
<a mat-list-item (click)="onItemSelected(item)" [matTooltip]="!expanded ? item.displayName : ''"
  matTooltipPosition="right" [ngClass]="{
        activeMenu: item.route ? router.isActive(item.route, true) : false,
        expanded: expanded,
        disabled: item.disabled
      }"
  class="menu-list-item group flex items-center gap-3 p-3 rounded-lg transition-all duration-200 hover:bg-primary/10">

  <!-- Icon -->
  <span class="iconify routeIcon text-lg text-gray-500 group-hover:text-primary" matListItemIcon
    [attr.data-icon]="item.iconName"></span>

  <!-- Label -->
  <span class="hide-menu text-sm font-medium tracking-wide group-hover:text-primary">
    {{ item.displayName }}
  </span>

  <!-- Right-side -->
  <span class="ml-auto flex items-center gap-2">
    @if(item.chip) {
    <span class="{{ item.chipClass }} px-2 py-1 text-xs font-semibold rounded-full item-chip">
      {{ item.chipContent }}
    </span>
    }
    @if(item.children && item.children.length) {
    <mat-icon class="transition-transform duration-200 text-gray-400 group-hover:text-primary"
      [@indicatorRotate]="expanded ? 'expanded' : 'collapsed'">
      expand_more
    </mat-icon>
    }
  </span>
</a>
}

<!-- ========================= -->
<!-- External Links -->
<!-- ========================= -->
@if(!item.navCap && item.external) {
<mat-list-item (click)="openExternalLink(item.route)" target="_blank"
  class="menu-list-item group flex items-center gap-3 p-3 rounded-lg transition-all duration-200 hover:bg-primary/10">

  <!-- Icon -->
  <span class="iconify routeIcon text-lg text-gray-500 group-hover:text-primary" matListItemIcon
    [attr.data-icon]="item.iconName"></span>

  <!-- Label -->
  <span class="hide-menu text-sm font-medium tracking-wide group-hover:text-primary">
    {{ item.displayName }}
  </span>

  @if(item.chip) {
  <span class="{{ item.chipClass }} px-2 py-1 text-xs font-semibold rounded-full item-chip">
    {{ item.chipContent }}
  </span>
  }
</mat-list-item>
}

<!-- ========================= -->
<!-- Children -->
<!-- ========================= -->
@if(expanded) {
@for(child of item.children; track child) {
<app-nav-item [item]="child" (click)="onSubItemSelected(child)" [depth]="depth + 1" class="child-nav">
</app-nav-item>
}
}